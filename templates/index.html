<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CROP RECOMMENDATION SYSTEM</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <style>
      body {
        background-image: url('https://img.freepik.com/free-photo/sunny-meadow-landscape_1112-134.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: #fff;
      }
      h1 {
        color: mediumseagreen;
        text-align: center;
      }
      .card {
        margin: 20px auto;
        color: white;
      }
      .container {
        background: rgba(255, 255, 255, 0.8); /* Add opacity for better readability */
        font-weight: bold;
        padding: 15px;
        border-radius: 15px;
      }
      .card-body {
        color: black;
        font-weight: bold;
      }
      label {
        font-weight: bold;
        color: #333;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Crop Recommendation</a>
  </div>
</nav>
    <!-- Main Content -->
    <div class="container my-3">
      <h1 class="text-success">
        Crop Recommendation System <span class="text-success">ðŸŒ±</span>
      </h1>

      <!-- Form -->
      <form action="/predict" method="POST" onsubmit="return validateInputs()">
        <div class="row g-3">
          <div class="col-md-4">
            <label for="Nitrogen">Nitrogen </label>
            <input
              type="number"
              id="Nitrogen"
              name="Nitrogen"
              placeholder="Enter Nitrogen (10-200)"
              class="form-control"
              required
            />
          </div>
          <div class="col-md-4">
            <label for="Phosphorus">Phosphorus </label>
            <input
              type="number"
              id="Phosphorus"
              name="Phosphorus"
              placeholder="Enter Phosphorus (10-150)"
              class="form-control"
              required
            />
          </div>
          <div class="col-md-4">
            <label for="Potassium">Potassium </label>
            <input
              type="number"
              id="Potassium"
              name="Potassium"
              placeholder="Enter Potassium (10-300)"
              class="form-control"
              required
            />
          </div>
        </div>
        <div class="row g-3 mt-3">
          <div class="col-md-4">
            <label for="Temperature">Temperature </label>
            <input
              type="number"
              step="0.01"
              id="Temperature"
              name="Temperature"
              placeholder="Enter Temperature in Â°C"
              class="form-control"
              required
            />
          </div>
          <div class="col-md-4">
            <label for="Humidity">Humidity </label>
            <input
              type="number"
              step="0.01"
              id="Humidity"
              name="Humidity"
              placeholder="Enter Humidity in %"
              class="form-control"
              required
            />
          </div>
          <div class="col-md-4">
            <label for="pH">pH</label>
            <input
              type="number"
              step="0.01"
              id="Ph"
              name="Ph"
              placeholder="Enter pH"
              class="form-control"
              required
            />
          </div>
        </div>
        <div class="row g-3 mt-3">
          <div class="col-md-4">
            <label for="Rainfall">Rainfall (mm)</label>
            <input
              type="number"
              step="0.01"
              id="Rainfall"
              name="Rainfall"
              placeholder="Enter Rainfall"
              class="form-control"
              required
            />
          </div>
        </div>
        <div class="row g-3 mt-3 text-center">
          <div class="col-12">
            <button type="submit" class="btn btn-primary btn-lg">Get Recommendation</button>
          </div>
        </div>
      </form>

      <!-- Result -->
      {% if result %}
      <div 
        class="card bg-dark"
        style="width: 18rem; background-image: url('https://images.pexels.com/photos/55766/pexels-photo-55766.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat;">
        <div class="card-body">
          <h5 class="card-title">Recommended Crop for Cultivation:</h5>
          <p class="card-text">{{ result }}</p>
        </div>
      </div>
      {% endif %}
    </div>

    <script>
      function validateInputs() {
        const nitrogen = parseFloat(document.getElementById("Nitrogen").value);
        const phosphorus = parseFloat(document.getElementById("Phosphorus").value);
        const potassium = parseFloat(document.getElementById("Potassium").value);

        if (nitrogen < 10 || nitrogen > 200) {
          alert("Nitrogen value should be between 10 and 200.");
          return false;
        }
        if (phosphorus < 10 || phosphorus > 150) {
          alert("Phosphorus value should be between 10 and 150.");
          return false;
        }
        if (potassium < 10 || potassium > 300) {
          alert("Potassium value should be between 10 and 300.");
          return false;
        }
        return true;
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
